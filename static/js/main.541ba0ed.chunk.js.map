{"version":3,"sources":["components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css","components/SearchForm/SearchForm.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","service/settings.js","service/Api.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/SearchForm/SearchForm.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","SearchForm","state","searchForm","SaveValue","e","setState","target","value","Submit","preventDefault","trim","alert","props","saveSubmit","toLowerCase","className","s","onSubmit","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","SearchBar","Searchbar","ImageGalleryItem","formRes","map","el","src","webformatURL","alt","ImageGalleryItem_image","id","URL","BASE_URL","IMAGE_TYPE","ORIENTATION","QUANTITY_PER_PAGE","KEY","search","page","a","url","fetch","response","json","res","normalizeApi","hits","reduce","mass","push","largeImageURL","ImageGallery","arrayImage","loadSpiner","JSON","parse","localStorage","getItem","localArray","prevProps","prevState","Api","then","length","catch","err","finally","setTimeout","loader","inner","one","two","three","App","showModal","saveSearch","toggleSpiner","onClick","testThis","spiner","root","document","querySelector","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.541ba0ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1t8pc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2WkNB\",\"loader\":\"ImageGallery_loader__vbiII\",\"inner\":\"ImageGallery_inner__2KFnq\",\"one\":\"ImageGallery_one__2-dcy\",\"rotate-one\":\"ImageGallery_rotate-one__1gUR1\",\"two\":\"ImageGallery_two___YYsR\",\"rotate-two\":\"ImageGallery_rotate-two__2lLv6\",\"three\":\"ImageGallery_three__2STmW\",\"rotate-three\":\"ImageGallery_rotate-three__118Pf\"};","import React, { Component } from 'react';\r\nimport s from './SearchForm.module.css';\r\n/* import { toast } from 'react-toastify'; */\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    searchForm: '',\r\n  };\r\n\r\n  SaveValue = e => {\r\n    this.setState({\r\n      searchForm: e.target.value,\r\n    });\r\n  };\r\n\r\n  Submit = e => {\r\n    e.preventDefault();\r\n    if (this.state.searchForm.trim() === '') {\r\n      alert('Введите текст');\r\n      this.setState({ searchForm: '' });\r\n      return;\r\n    }\r\n    this.props.saveSubmit(this.state.searchForm.toLowerCase());\r\n    this.setState({ searchForm: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={s.SearchForm} onSubmit={this.Submit}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={this.state.searchForm}\r\n          onChange={this.SaveValue}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport s from './SearchBar.module.css';\r\nimport SearchForm from 'components/SearchForm/SearchForm';\r\n\r\nexport default class SearchBar extends Component {\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <SearchForm saveSubmit={this.props.saveSubmit} />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import s from './ImageGalleryItem.module.css';\r\nexport default function ImageGalleryItem({ formRes }) {\r\n  return (\r\n    <>\r\n      {!formRes && <h1>Тут будут ваши просмотренные фото</h1>}\r\n      {formRes &&\r\n        formRes.map(el => (\r\n          <li key={el.id} className={s.ImageGalleryItem}>\r\n            <img\r\n              src={el.webformatURL}\r\n              alt=\"tags\"\r\n              className={s.ImageGalleryItem_image}\r\n            />\r\n          </li>\r\n        ))}\r\n    </>\r\n  );\r\n}\r\n","const URL = {\r\n  BASE_URL: `https://pixabay.com/api`,\r\n  IMAGE_TYPE: `photo`,\r\n  ORIENTATION: `horizontal`,\r\n  QUANTITY_PER_PAGE: 12,\r\n  KEY: `24908309-0f9f1bd491628a6ee7000b789`,\r\n};\r\nexport default URL;\r\n","import URL from './settings';\r\n\r\nexport default async function takeImage(search, page) {\r\n  const url = `${URL.BASE_URL}/?image_type=${URL.IMAGE_TYPE}&orientation=${URL.ORIENTATION}&q=${search}&page=${page}&per_page=${URL.QUANTITY_PER_PAGE}&key=${URL.KEY}`;\r\n  const response = await fetch(url);\r\n  const res = await response.json();\r\n  const normalizeApi = res.hits.reduce((mass, el) => {\r\n    mass.push({\r\n      id: el.id,\r\n      webformatURL: el.webformatURL,\r\n      largeImageURL: el.largeImageURL,\r\n    });\r\n    return mass;\r\n  }, []);\r\n  /* if (normalizeApi.length < 1) {\r\n    return;\r\n  } */\r\n  return normalizeApi;\r\n}\r\n","import { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Api from '../../service/Api';\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    arrayImage: null,\r\n    loadSpiner: false,\r\n  };\r\n  componentDidMount() {\r\n    /*  const test = [\r\n      {\r\n        id: 434918,\r\n        largeImageURL:\r\n          'https://pixabay.com/get/g8a050f3dbfe71aac158d7d598f4387332af9eb822d3df595cf0976d2f36a17321afd72f5d1687d177183e839b020d48e2a91924ad724abeba48e8cb0b39cbd54_1280.jpg',\r\n        webformatURL:\r\n          'https://pixabay.com/get/g75c9eda7c986c7288225a9bb06619b30a65fcff1b8656b53a5c387e78fe9b76d6f3d4528c227365dc98104ce1ee6c54f_640.jpg',\r\n      },\r\n    ];\r\n    const newTest = JSON.stringify(test);\r\n    localStorage.setItem('myFoto', newTest); */\r\n    if (JSON.parse(localStorage.getItem('myFoto'))) {\r\n      const localArray = JSON.parse(localStorage.getItem('myFoto'));\r\n      this.setState({\r\n        arrayImage: localArray,\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { formRes } = this.props;\r\n\r\n    if (prevProps.formRes !== formRes) {\r\n      this.setState({ loadSpiner: true });\r\n      Api(formRes, 1)\r\n        .then(res => {\r\n          res.length > 0\r\n            ? this.setState({\r\n                arrayImage: res,\r\n              })\r\n            : alert(\r\n                `По вашему запросу ${formRes} небыло совпадений, крутите барабан`,\r\n              );\r\n        })\r\n        .catch(err => alert(err))\r\n        .finally(\r\n          setTimeout(() => {\r\n            this.setState({ loadSpiner: false });\r\n          }, 500),\r\n        );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loadSpiner, arrayImage } = this.state;\r\n    return (\r\n      <ul className={s.ImageGallery}>\r\n        {loadSpiner && (\r\n          <div className={s.loader}>\r\n            <div className={`${s.inner} ${s.one}`}></div>\r\n            <div className={`${s.inner} ${s.two}`}></div>\r\n            <div className={`${s.inner} ${s.three}`}></div>\r\n          </div>\r\n        )}\r\n        <ImageGalleryItem formRes={arrayImage} />\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n/* const testThis = () => {\r\n       this.setState({ showModal: true });\r\n      Api('cat', 1)\r\n        .then(res =>\r\n          this.setState({\r\n            searchImage: res,\r\n          }),\r\n        )\r\n        .catch(err => alert(err));\r\n      .finally(this.setState({ showModal: false }));\r\n    }; */\r\n","import React, { Component } from 'react';\nimport SearchBar from 'components/SearchBar/SearchBar';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\n\n/* import { ToastContainer } from 'react-toastify'; */\nclass App extends Component {\n  state = {\n    searchForm: '',\n    showModal: false,\n  };\n\n  saveSearch = searchForm => {\n    this.setState({\n      searchForm,\n    });\n  };\n  toggleSpiner = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    return (\n      <div>\n        {this.state.showModal && <h1>Грузим</h1>}\n        <button onClick={this.testThis}>click me</button>\n        <SearchBar saveSubmit={this.saveSearch} />\n        <ImageGallery\n          spiner={this.toggleSpiner}\n          formRes={this.state.searchForm}\n        />\n      </div>\n    );\n  }\n}\n/*  <ToastContainer autoClose={3000} />; */\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport react from 'react';\nimport 'modern-normalize/modern-normalize.css';\nimport 'index.css';\nconst root = document.querySelector('#root');\n\nReactDOM.render(\n  <react.StrictMode>\n    <App />\n  </react.StrictMode>,\n  root,\n);\n/* function testXor(numbers) {\n  return numbers.reduce((acc, e) => {\n    console.log(acc, e);\n    return acc ^ e;\n  });\n}\nconst test = [1, 1, 2, 2, 8, 7, 3, 3, 4, 4];\nconsole.log(testXor(test)); */\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__2V9v9\",\"SearchForm_button\":\"SearchForm_SearchForm_button__1-7tx\",\"SearchForm_button_label\":\"SearchForm_SearchForm_button_label__1_LU2\",\"SearchForm_input\":\"SearchForm_SearchForm_input__9LkGG\",\"SearchForm-input\":\"SearchForm_SearchForm-input__3Qt9T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1oYPK\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1J7QI\"};"],"sourceRoot":""}